---
keyword: 流式气泡层（v2.x版本）
---

# 流式气泡层（v2.x版本）

流式气泡层是基础平面地图的子组件，支持独立的样式和数据配置，包括气泡的大小、位置、颜色、动画效果以及经纬度等，能够以流式气泡的形式表现地理位置上的点数据信息。本文介绍流式气泡层各配置项的含义。

**说明：** 当前为v2.x版本的流式气泡层子组件指导文档，如需查看该子组件v1.x版本的文档内容详情，请参见[流式气泡层（v1.x版本）](/cn.zh-CN/组件指南/基础平面地图组件/流式气泡层（v1.x版本）.md)。

单击**子组件管理**下方的**流式气泡层**，进入配置面板配置**流式气泡层**的样式和数据。

**说明：** 如果**子组件管理**中没有**流式气泡层**，说明您还未添加**流式气泡层**子组件，请参见[地图容器（v2.x版本）](/cn.zh-CN/组件指南/基础平面地图组件/地图容器（v2.x版本）.md)进行添加。

## 配置

![流式气泡层配置面板](https://static-aliyun-doc.oss-cn-hangzhou.aliyuncs.com/assets/img/zh-CN/1958068951/p81502.jpg)

-   **搜索配置**：单击**配置**面板右上角的**搜索配置**，可在**搜索配置**对话框中输入您需要搜索的配置项名称，快速定位到该配置项，系统支持模糊匹配。详情请参见[搜索组件配置](/cn.zh-CN/组件管理/搜索组件配置.md)。
-   **可见级别**：设置流式气泡层的可见级别值，在设定的级别范围内流式气泡层可见，级别之外不可见。
-   **默认配置**：设置流式气泡图标的图片样式路径、图片尺寸和图标偏移量等参数。

    |参数|说明|
    |--|--|
    |**图片路径**|流式气泡图标的图片。    -   鼠标移动到图片位置，单击**删除**可删除当前图片，然后单击图片区域或者拖动本地图片到区域内即可添加一个图标图片。
    -   鼠标移动到图片位置，单击**更改**可重新上传本地图片。
    -   您也可以输入图片的URL地址，将远程服务器上的图片作为流式气泡图标。 |
    |**图片尺寸**|设置图标的宽度和高度，取值范围为0~400，单位为px。|
    |**图标偏移量**|图标相对于水平方向和垂直方向的偏移量，取值范围为-400~400，单位为px。建议设置为图标宽度的一半来水平居中，设置为图标高度值的一半来垂直居中。|
    |**浮框偏移量**|浮框相对于水平方向和垂直方向的偏移量，取值范围为-400~400，单位为px。|
    |**圆圈样式**|设置圆圈的填充颜色、圆圈的半径值、圆圈边线颜色和边线的粗细值。单击**圆圈样式**左侧的![眼睛图标](https://static-aliyun-doc.oss-cn-hangzhou.aliyuncs.com/assets/img/zh-CN/7416559951/p89095.jpg)图标，可控制**圆圈样式**的显隐。|

-   **浮框配置**：设置流式气泡浮框的文本样式、文本对齐和行高比例等参数。

    |参数|说明|
    |--|--|
    |**文本样式**|设置浮框内文本的字体、文字粗细、字号和颜色。请参见[颜色选择器说明](/cn.zh-CN/组件指南/配置项说明.md)进行颜色修改。|
    |**文本对齐**|设置流式气泡浮框内信息的多行对齐方式，包括**左对齐**、**居中**和**右对齐**。仅当数据中的info信息设置为多行时有效。|
    |**行高比例**|设置流式气泡浮框的行高比例值。|
    |**外边距**|设置流式气泡浮框内文本与浮框四边的距离。|
    |**背景配置**|设置流式气泡浮框的背景颜色，内容的宽度，浮框圆角半径值，数值越大圆角越圆。|
    |**阴影**|设置流式气泡浮框的阴影的颜色、阴影模糊度和阴影对于水平方向和垂直方向的偏移量，取值范围为0~50，单位为px。|

-   **动画配置**：设置流式气泡浮框动画的缓存、顺序和冒泡数目等参数。

    |参数|说明|
    |--|--|
    |**缓存**|打开开关，系统会自动缓存您的气泡数据，并且可以自定义缓存条数。当数据发生变化时，系统不会清空您已经缓存的数据。|
    |**顺序**|打开开关，系统按照数据的顺序进行循环冒泡，关闭开关，系统进行随机冒泡。|
    |**冒泡数目**|流式气泡每次冒泡的数量，当设置的数目小于数据条数时，系统采用循环冒泡的方式。|
    |**平铺时间**|流式气泡平铺动画的持续时间，单位为s。|
    |**停留时间**|流式气泡平铺动画的停留时间，单位为s。|
    |**消失时间**|流式气泡平铺动画的消失时间，单位为s。|


## 数据

![流式气泡层数据面板V2.x](https://static-aliyun-doc.oss-cn-hangzhou.aliyuncs.com/assets/img/zh-CN/1958068951/p81498.jpg)

|字段|说明|
|--|--|
|lat|流式气泡的纬度。|
|lng|流式气泡的经度。|
|info|流式气泡的文本信息，可自定义，支持使用`</br>`换行，例如`自定义信息</br>自定义信息`。|

|配置项|说明|
|---|--|
|**受控模式**|打开开关，组件初始化状态下不请求数据，仅通过回调ID或蓝图编辑器配置的方法发起请求数据；关闭开关，可以使用自动更新请求数据。|
|**自动更新请求**|选中后可以设置动态轮询，还可以手动输入轮询的时间频次。清除后则不会自动更新，需要手动刷新页面，或通过蓝图编辑器和回调ID事件来触发请求更新数据。|
|**数据源**|单击**配置数据源**，可在**设置数据源**页面中修改数据源类型和数据查询代码、预览数据源返回结果以及查看数据响应结果。详情请参见[配置组件数据](/cn.zh-CN/组件管理/配置组件数据.md)。|
|**数据过滤器**|单击**添加过滤器**，可在**设置数据源**页面中配置数据过滤器，详情请参见[组件过滤器使用说明](/cn.zh-CN/组件管理/组件数据过滤器使用说明/使用方法.md)。|
|**数据响应结果**|展示数据请求的响应结果。当数据源发生改变时，可单击右侧的![刷新数据](../images/p89093.jpg)图标，实时查看数据响应结果。|

## 交互

此组件没有交互事件。

## 蓝图编辑器交互配置

1.  在画布编辑器页面，单击**基础平面地图**子组件管理列表中**流式气泡层**右侧的![导出到蓝图编辑器](https://static-aliyun-doc.oss-cn-hangzhou.aliyuncs.com/assets/img/zh-CN/2434449951/p89089.jpg)图标。
2.  单击页面左上角的![蓝图图标](https://static-aliyun-doc.oss-cn-hangzhou.aliyuncs.com/assets/img/zh-CN/2434449951/p89087.jpg)图标。
3.  在蓝图编辑器配置页面，单击导入节点栏内的**流式气泡层**组件，在画布中可以看到如下图所示的流式气泡层的蓝图编辑器配置参数。

    ![流式气泡层V2.x蓝图编辑器参数](https://static-aliyun-doc.oss-cn-hangzhou.aliyuncs.com/assets/img/zh-CN/1958068951/p81501.jpg)

    -   **事件**

        **当数据接口请求完成时**：数据接口请求返回并经过过滤器处理后抛出的事件，同时抛出处理后的JSON格式的数据。具体数据请参见上文的[数据示例](#section_bqo_7xs_ume)。

    -   **动作**

        |动作|说明|
        |--|--|
        |**请求数据接口**|重新请求服务端数据，上游数据处理节点或图层节点抛出的数据将作为参数。例如流式气泡层配置了API数据源为`http://api.test`，传到**请求数据接口**动作的数据为`{ id: '1'}`，则最终请求接口为`http://api.test?id=1`。|
        |**导入数据接口**|按组件绘制格式处理数据后，导入组件，重新绘制。不需要重新请求服务端数据。具体数据请参见上文的[数据示例](#section_bqo_7xs_ume)。|
        |**显示**|显示组件，不需要参数。|
        |**隐藏**|隐藏组件，不需要参数。|


