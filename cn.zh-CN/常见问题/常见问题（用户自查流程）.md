# 常见问题（用户自查流程） {#concept_x1q_grv_1fb .concept}

## 数据系列与配置项系列有什么关系？ {#section_a4x_wrk_q2b .section}

-   数据系列：

    很多基础二维组件（如折线图，柱状图等）都支持多个不同系列的系列展示，您只需在数据中配置不同的s字段即可。

    ![](http://static-aliyun-doc.oss-cn-hangzhou.aliyuncs.com/assets/img/20220/153628715811365_zh-CN.png)

-   配置系列：

    支持多系列的组件（如折线图，柱状图等），在**样式**栏中，一般都会有**数据系列**的配置项。

    该配置项用于定义一组不同的样式数组，来循环渲染数据中的不同系列。如下图中配置项定义了两个系列，组件会使用\['系列1','系列2'\]的样式，依次循环渲染数据中的s字段。

    ![](http://static-aliyun-doc.oss-cn-hangzhou.aliyuncs.com/assets/img/20220/153628715811366_zh-CN.png)

-   常见误区
    -   配置项中的**系列名**为该样式的名称，同时作为图表中图例的名称。如果设置为空则会采用目标数据系列中的s字段的值。

        ![](http://static-aliyun-doc.oss-cn-hangzhou.aliyuncs.com/assets/img/20220/153628715811367_zh-CN.png)

        ![](http://static-aliyun-doc.oss-cn-hangzhou.aliyuncs.com/assets/img/20220/153628715811368_zh-CN.png)

    -    配置项中的系列与数据中的系列不是根据名称来相互对应的，而是根据不同系列的出场顺序来设置样式。

        例如：配置项系列为 \[系列1，系列2，系列3\] ，映射至数据则为 \[\{s1:系列1样式\}、\{s2:系列2样式\}、\{s3:系列3样式\}、\{s4:系列1样式\}、\{s5:系列2样式\}\]。

        **说明：** 举例中的 s1、s2、s3、s4、s5 对应的是数据中 s 字段的出场顺序。

    -     如果有固定的数据系列样式需求（如s2必须要红色，s1必须要蓝色），可以在系列样式配置完成后，在过滤器或者数据源中对数据进行排序。

        例如：配置项系列为 \[红色，蓝色\] ，数据的出场顺序则可以修改为 \[\{"s":"2"\},\{"s":"1"\}\]。

        ![](http://static-aliyun-doc.oss-cn-hangzhou.aliyuncs.com/assets/img/20220/153628715811412_zh-CN.png)


## 为什么回调 ID 改变后，组件未修改渲染？ {#section_byf_2fd_bfb .section}

-   在编辑页面测试组件的回调ID

    问题原因：目前编辑页中的组件，无法获取到来自其他组件抛出的回调值。

    解决方法：在url中传入默认值，在编辑页进行组件测试。

    例如`xxxx/admin/screen/123456?value=123&name=12345`

-    在预览或发布页面测试组件的回调ID

    在大屏预览/发布页中，打开浏览器控制台中的 network（windows 系统 使用快捷键 F12，mac系统 option＋command＋i），搜索`multiple`，检查回调改变后该组件是否有发起请求。

    -   如果搜索结果为空，则该组件未发起请求，请检查回调的配置情况。
    -   如果搜索结果不为空，则该组件有发起请求，则检查请求携带的参数是否是正确的回调参数，以及请求是否正常返回200（下图中的 **Status** 为 200）。

        若请求未正常返回则需检查该数据源的连接情况。

    ![](http://static-aliyun-doc.oss-cn-hangzhou.aliyuncs.com/assets/img/20220/153628715811369_zh-CN.png)

-    如果您使用了**数字翻牌器**组件，数据正常返回却没有改变组件渲染，则需要检查是否在组件配置项中勾选了**数据抖动修正**。

    如果勾选该配置项：当传入数据小于当前数据时则不改变组件渲染。

    若您的数据有上下浮动而且需要实时渲染当前数据时，则不应勾选此配置项。


## 数据库数据源配置时报timeout，该如何处理？ {#section_mkf_gfd_bfb .section}

1.  确认您是否已经完成[数据库白名单的配置](../../../../cn.zh-CN/用户指南/管理数据源/配置数据库白名单.md#)。
2.  如果您的数据源为阿里云 RDS，需要[配置RDS白名单](../../../../cn.zh-CN/用户指南/管理数据源/配置数据库白名单.md#)，并确认您是否使用的是VPC专有网络。
    -   是，在添加数据源时，需要打开**VPC**开关，并填入**VPC ID** 和**实例 ID**。

        **说明：** 您可以在阿里云VPC/RDS控制台中，获取VPC ID/实例 ID。在输入ID时需要去掉前后空格。

    -   否，联系阿里云技术工程师解决。

## 组件数据请求报timeout，该如何处理？ {#section_edw_3fd_bfb .section}

-   可能原因：数据查询超时。DataV设置了向数据库发起的请求不能超过10s的限制，即如果数据查询时间超过10s，就会报请求超时的错误。

    解决方法：此限制为DataV后台服务设置，用户无法修改。建议您优化查询SQL语句，或者调整表结构来缩短查询时长。

-    可能原因：组件数据查询时间较长，而组件自动更新请求设置间隔较短。Chrome 浏览器同一域名同一时间最多可以发起6个http请求，所以后面的请求将pending在浏览器中无法发送至数据中心。

    解决方法：建议您调整自动更新请求间隔时长，或优化SQL语句来缩短数据返回时间。

    **说明：** 需要长时间查询的解决方案：

    -   自建数据接口 API 服务（需要支持跨域） 。
    -   优化数据库查询：比如根据常用 sql 查询条件，建立相关索引加速查询。

##  回调ID为数组时如何写SQL？ {#section_apf_lfd_bfb .section}

-   普通SQL

    ```
     select * from tb where id in (:idList)
    ```

-    存储过程

    ```
    function(concat_ws(',', :idList))
    ```

    **说明：** `idList` 为您配置的回调ID数组。


