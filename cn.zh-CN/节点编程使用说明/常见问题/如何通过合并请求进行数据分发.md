# 如何通过合并请求进行数据分发 {#task_1495977 .task}

本文档以**通用标题**组件请求数据并分发给**数字翻牌器**和**多行文本**组件完成数据更新为例，为您介绍如何使用节点编程功能通过合并请求进行数据分发的方法。

准备好您的交互需求。

本案例的交互需求为：**通用标题**组件请求数据，并将请求到的数据分发给**数字翻牌器**及**多行文本**组件。

本案例的实际应用场景为：多个组件共用一个数据请求，产生单个组件请求数据并分发给其他组件。

1.  在大屏编辑器页面搭建所需要的**通用标题**、**多行文本**和**数字翻牌器**组件，详情请参见[添加组件](../../../../cn.zh-CN/管理组件/添加组件.md#)。
2.  在**数字翻牌器**的配置面板中，清空**标题名**、前缀**内容**和后缀**内容**配置项。![配置数字翻牌器](http://static-aliyun-doc.oss-cn-hangzhou.aliyuncs.com/assets/img/1188479/156654107454459_zh-CN.png)

 

    **说明：** 此步骤为可选步骤，您可以根据需求自定义标题名、前缀或后缀内容。

3.  将**通用标题**组件放置于画布外，并修改组件的数据内容。![通用标题数据内容](http://static-aliyun-doc.oss-cn-hangzhou.aliyuncs.com/assets/img/1188479/156654107554354_zh-CN.png)

 本案例中，**通用标题**组件配置的数据如下。

    ``` {#codeblock_0gz_2u6_bx2}
    [
        {
            "num": "123",
            "text": "这是多行文本组件",
            "value": "接收数据组件"
        }
    ]
    ```

    **说明：** 本案例内的**通用标题**组件只用于请求数据，放置于画布外，在预览发布时不会显示在大屏上。

    ![添加组件](http://static-aliyun-doc.oss-cn-hangzhou.aliyuncs.com/assets/img/1188479/156654107554351_zh-CN.png)

4.  组件配置完成后，单击大屏编辑页面右上角的**配置节点编程**图标。![配置节点编程图标](http://static-aliyun-doc.oss-cn-hangzhou.aliyuncs.com/assets/img/1161791/156654107554013_zh-CN.png)


5.  在节点编程配置页面，将左侧的**通用标题**、**多行文本**和**数字翻牌器**节点拖至画布中，并进行连线。 本案例需要进行两次连线：
    -   将**通用标题**的**当数据接口请求完成时**事件与**数字翻牌器**的**导入数据接口**动作连线。
    -   将**通用标题**的**当数据接口请求完成时**事件与**多行文本**的**导入数据接口**动作连线。
6.  在连线中添加两个转换器，分别命名为**分发给数字翻牌器**和**分发给多行文本**。 具体操作方法请参见[配置节点编程](cn.zh-CN/节点编程使用说明/配置节点编程.md#)。

    转换器添加完成后，最终效果如下图所示。

    ![组件连线样式](http://static-aliyun-doc.oss-cn-hangzhou.aliyuncs.com/assets/img/1188479/156654107554392_zh-CN.png)

7.  配置转换器。 
    1.  右键单击名称为**分发给数字翻牌器**的转换器，选择**编辑**。
    2.  在转换器设置对话框的转换器脚本编辑区域，输入转换条件，完成后单击**保存**。![数字翻牌器转换器代码](http://static-aliyun-doc.oss-cn-hangzhou.aliyuncs.com/assets/img/1188479/156654107554395_zh-CN.png)

 当前转换器的示例代码如下。

        ``` {#codeblock_l1t_psb_ci0}
        return [{
          value:data[0].num
        }];
        ```

    3.  使用同样的方式配置**分发给多行文本**转换器。![多行文本转换器代码](http://static-aliyun-doc.oss-cn-hangzhou.aliyuncs.com/assets/img/1188479/156654107654396_zh-CN.png)

 当前转换器的示例代码如下。

        ``` {#codeblock_unt_4jj_rt5}
        return [{
          value:data[0].text
        }];
        ```

8.  转换器配置完成后，单击节点编程配置页面右上角的**应用**图标，将交互效果应用到大屏项目中。
9.  单击页面左上角的**返回**图标，返回大屏编辑器页面。单击**预览**，查看数据分发效果。![交互展示](http://static-aliyun-doc.oss-cn-hangzhou.aliyuncs.com/assets/img/1188479/156654107654397_zh-CN.png)



