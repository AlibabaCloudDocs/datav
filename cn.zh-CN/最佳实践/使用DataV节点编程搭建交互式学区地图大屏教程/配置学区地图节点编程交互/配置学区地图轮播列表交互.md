# 配置学区地图轮播列表交互 {#task_1698018 .task}

本文档为您介绍当单击**轮播列表**组件时，切换展示对应学校在地图上的位置信息和数据的方法。

需要实现的交互：当单击用来展示学校排名的**轮播列表**组件内的某一行时，在**地图**组件上定位该学校位置，并通过**散点层**子组件返回该学校位置上的数据。

实现方案：**轮播列表**组件的数据中包含学校的位置数据。当单击**轮播列表**组件的某一行时，获取该行的位置数据，**基础平面地图**父组件对应更新数据修改经纬度，**散点层**返回对应的点位数据。

1.  在节点编程配置页面，将左侧**小学**文件夹下的**小学学校列表**、**初中**下的**初中学校列表**、**地图&固定内容**下的**基础平面地图**和**地图&固定内容** \> **基础平面地图**下的**散点层**四个组件节点拖至画布中。
2.  按照以下说明连线。 
    -   将**初中学校列表**的**当点击单行时**事件与**散点层**的**导入数据接口**连线。
    -   将**小学学校列表**的**当点击单行时**事件与**基础平面地图**的**导入数据接口**连线。
3.  在上一步的两条连线中各添加一个转换器，并分别命名为**提取散点数据**和**地图父组件定位缩放**。 具体操作方法请参见[配置节点编程](../../../../cn.zh-CN/节点编程使用说明/配置节点编程.md#)。
4.  将**初中学校列表**和**小学学校列表**的**当点击单行时**事件分别与**提取散点数据**和**地图父组件定位缩放**转换器连线。 连线完成后，效果如下图所示。

    ![定位地图样式连线](http://static-aliyun-doc.oss-cn-hangzhou.aliyuncs.com/assets/img/1240656/156592374154948_zh-CN.png)

5.  配置转换器。 
    1.  右键单击名称为**提取散点数据**的转换器，选择**编辑**。
    2.  在转换器设置对话框的转换器脚本编辑区域输入转换条件，完成后单击**保存**。![提取散点数据转换器代码](http://static-aliyun-doc.oss-cn-hangzhou.aliyuncs.com/assets/img/1240656/156592374154949_zh-CN.png)

 转换器的示例代码如下。

        ``` {#codeblock_o55_uiz_o0z}
        return [
          {
            "id": 1,
            "name": data.name,
            "address": data.address,
            "lat": data.lat,
            "lng": data.lng,
            "type": "ok",
          }
        ];
        ```

        **说明：** 由于**轮播列表**组件中的数据中包含了所有的地理信息，所以当前转换器需要提取的数据都可以直接从上游的**轮播列表**组件抛出的数据中获取。

    3.  使用同样的方式配置**地图父组件定位缩放**转换器。![地图父组件定位缩放转换器代码](http://static-aliyun-doc.oss-cn-hangzhou.aliyuncs.com/assets/img/1240656/156592374154950_zh-CN.png)

 转换器的示例代码如下。

        ``` {#codeblock_bdw_1jh_w59}
        return [{
          "lng": data.lng,
          "lat": data.lat,
          "zoom": 13
        }];
        ```


