# 配置蓝图交互

本文为您介绍在DataV欢乐砸金蛋模板可视化应用中实现多个交互效果的蓝图配置方法。

欢乐砸金蛋模板在年会或团建抽奖场景时，包含多个交互功能：

-   当单击大屏中某个金蛋时，刷新金蛋动态样式初始状态，并展示金蛋碎裂动画。
-   当单击大屏某个金蛋时，显示全屏半透明遮挡层。
-   当单击金蛋且播放金蛋碎裂动画两秒后，大屏显示对应金蛋内的奖品图片。
-   当单击奖品弹窗页面内的弹窗图时，关闭奖品弹窗页面及遮挡层。
-   当单击奖品弹窗页面内的弹窗图时，关闭金蛋碎裂动态图样式的交互功能。

![欢乐砸金蛋预览](https://static-aliyun-doc.oss-accelerate.aliyuncs.com/assets/img/zh-CN/5489862161/p239565.gif)

## 步骤一：单击金蛋，金蛋展示碎裂动态图

在蓝图编辑器内，单击使用多个金蛋上方的**按钮**节点，刷新对应金蛋动态图样式的初始状态，随后显示金蛋碎裂动态样式的功能。

1.  在欢乐砸金蛋模板的画布编辑器中，将图层栏内的**动态**成组中四个**金蛋-动态**组件全部设置成隐藏状态。

2.  分别单击选中这四个**金蛋-动态**组件，并右键单击选择**导出到蓝图编辑器**。

    ![动态设置成隐藏及导出到蓝图](https://static-aliyun-doc.oss-accelerate.aliyuncs.com/assets/img/zh-CN/5489862161/p239246.png)

3.  再次分别单击选中四个**按钮**组件，并右键单击选择**导出到蓝图编辑器**。

    ![按钮导出到蓝图编辑器](https://static-aliyun-doc.oss-accelerate.aliyuncs.com/assets/img/zh-CN/5489862161/p239247.png)

4.  单击左上角的**蓝图编辑器**按钮，切换到蓝图编辑器页面。

    ![蓝图编辑器入口](https://static-aliyun-doc.oss-accelerate.aliyuncs.com/assets/img/zh-CN/9407862161/p237727.png)

5.  在蓝图编辑器页面内，将导入节点内的四个**按钮**节点和四个**金蛋-动态**节点添加到蓝图画布中。

6.  将**按钮1**节点的**点击按钮时**事件分别与**金蛋1-动态**节点的**刷新**和**显示**动作连线。

    使用同样的方法对其他三个**按钮**节点和**金蛋-动态**节点一一对应连线。最终连线样式如下图所示。

    ![完成连线](https://static-aliyun-doc.oss-accelerate.aliyuncs.com/assets/img/zh-CN/5489862161/p239430.jpg)

    **说明：** 当前每个连线中间的**串行数据处理**逻辑节点是系统自动添加的，无需配置。

    最终通过连线，实现当单击不同金蛋时，金蛋动态图刷新成初始状态，随后展示金蛋碎裂的动画样式的交互功能。


## 步骤二：单击按钮，大屏显示遮挡屏幕的半透明图片遮挡层

在蓝图编辑器内，单击使用多个金蛋上方的**按钮**节点即可显示全屏遮挡层的功能。

1.  在欢乐砸金蛋模板的画布编辑器中，将图层栏内的**交互遮挡层**组件，右键单击选择**导出到蓝图编辑器**。

    ![遮挡层导出蓝图](https://static-aliyun-doc.oss-accelerate.aliyuncs.com/assets/img/zh-CN/5489862161/p239477.png)

2.  单击左上角的**蓝图编辑器**按钮，切换到蓝图编辑器页面。

3.  在蓝图编辑器页面内，单击**交互遮挡层**节点，将该节点添加到蓝图画布中。

4.  将**按钮1**节点的**点击按钮时**事件与**交互遮挡层**节点的**显示**动作连线。

    使用同样的方法对其他三个**按钮**节点和**交互遮挡层**节点一一对应连线。最终连线样式如下图所示。

    ![完成连线](https://static-aliyun-doc.oss-accelerate.aliyuncs.com/assets/img/zh-CN/5489862161/p239481.jpg)

    **说明：** 当前连线中间的**串行数据处理**逻辑节点是系统自动添加的，无需配置。

    最终通过连线，实现单击使用多个金蛋上方的**按钮**节点即可显示全屏遮挡层的交互功能。


## 步骤三：单击按钮，时间延迟两秒后，大屏弹窗显示奖品图片

在蓝图编辑器内，单击使用多个金蛋上方的**按钮**节点，实现时间延迟两秒后，弹窗显示对应金蛋内的奖品图片的功能。

1.  在欢乐砸金蛋模板的画布编辑器中，将图层栏内的四个**延时弹窗**成组全部设置成隐藏状态。

2.  分别单击选中这四个**延时弹窗**成组，右键单击选择**导出到蓝图编辑器**。

    ![延时弹窗导出蓝图并设置隐藏](https://static-aliyun-doc.oss-accelerate.aliyuncs.com/assets/img/zh-CN/6489862161/p239493.png)

3.  单击左上角的**蓝图编辑器**按钮，切换到蓝图编辑器页面。

4.  在蓝图编辑器页面内，单击导入节点内的四个**延时弹窗**节点，添加到蓝图画布中。

5.  在蓝图编辑器页面内，添加四个**定时器**逻辑节点。

6.  分别选中四个**定时器**逻辑节点，在右侧配置面板中，**定时方式**选择**延迟定时**，**延迟/间隔时间**设置为2秒。

    ![定时器延时](https://static-aliyun-doc.oss-accelerate.aliyuncs.com/assets/img/zh-CN/4850962161/p240089.png)

7.  将蓝图画布中的**按钮1**节点的**点击按钮时**事件与**定时器**逻辑节点左侧的**开始计时**相连，再将**定时器**右侧的**当到计时点时**与**延时弹窗1**节点的**显示**动作连线。

    使用同样的方法对其他三个**按钮**节点、三个**定时器**逻辑节点和**延时弹窗**节点一一对应连线。最终连线样式如下图所示。

    ![完成连线](https://static-aliyun-doc.oss-accelerate.aliyuncs.com/assets/img/zh-CN/6489862161/p239503.jpg)

    最终通过连线，实现单击金蛋上方的按钮后，经过两秒钟的时间延迟后，弹窗显示对应金蛋内的奖品图片的交互功能。


## 步骤四：单击奖品弹窗页面内的弹窗图时，关闭奖品弹窗页面及遮挡层图片

在蓝图编辑器内，单击奖品弹窗页面内**弹窗图**节点，关闭奖品弹窗页面及遮挡层图片的功能。

1.  在欢乐砸金蛋模板的画布编辑器中，分别选中图层栏内四个**延时弹窗**成组中的**弹窗图**组件，右键单击选择**导出到蓝图编辑器**。

    ![弹窗图导出蓝图编辑器](https://static-aliyun-doc.oss-accelerate.aliyuncs.com/assets/img/zh-CN/6489862161/p239522.png)

2.  单击左上角的**蓝图编辑器**按钮，切换到蓝图编辑器页面。

3.  在蓝图编辑器页面内，单击导入节点内的四个**弹窗图**节点，添加到蓝图画布中。

4.  将蓝图画布中的**弹窗图1**节点的**当单击图片时**事件与**交互遮挡层**节点的**隐藏**动作连线。

5.  再将蓝图画布中的**弹窗图1**节点的**当单击图片时**事件与**延时弹窗1**节点的**隐藏**动作连线。

    使用上述两个步骤的方法对其他三个**弹窗图**节点与三个**延时弹窗**和**交互遮挡层**节点一一对应连线。最终连线样式如下图所示。

    ![完成连线](https://static-aliyun-doc.oss-accelerate.aliyuncs.com/assets/img/zh-CN/6489862161/p239539.jpg)

    **说明：** 当前连线中间的**串行数据处理**逻辑节点是系统自动添加的，无需配置。

    最终通过连线，实现单击奖品弹窗页面内的弹窗图时，关闭奖品弹窗页面及遮挡层图片的交互功能。


## 步骤五：单击奖品弹窗页面内的弹窗图时，关闭金蛋碎裂动态图样式

在蓝图编辑器内，单击奖品弹窗页面内**弹窗图**节点，关闭金蛋碎裂动态图样式的功能。

1.  在蓝图编辑器页面内，将蓝图画布中的**弹窗图1**节点的**当单击图片时**事件与**金蛋-动态1**节点的**隐藏**动作连线。

2.  使用同样的方法对其他三个**弹窗图**节点与三个**金蛋-动态**节点一一对应连线。最终连线样式如下图所示。

    ![最终蓝图连线](https://static-aliyun-doc.oss-accelerate.aliyuncs.com/assets/img/zh-CN/6489862161/p239546.jpg)

    **说明：** 当前连线中间的**串行数据处理**逻辑节点是系统自动添加的，无需配置。

    最终通过连线，实现单击奖品弹窗页面内的弹窗图时，关闭金蛋碎裂动态图样式的交互功能。


